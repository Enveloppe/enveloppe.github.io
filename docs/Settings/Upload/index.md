---
title: File paths
order: 2
---

> [!grid]
> ![[../../_assets/img/file_path_1.png]]
> ![[../../_assets/img/Upload_fixed.png]]
> ![[../../_assets/img/Upload_obsidian_path.png]]

[You can find some examples of path created by the plugin here](./filepath_example.md).

## Folder reception settings

There are three options available for managing folder reception:

- <u>Fixed</u>: Use a “fixed” folder: All files will be sent to this folder.
- <u>Property key</u>: Use a folder created based on a `category` key.
- <u>Obsidian Path</u>: Use the relative path from Obsidian. You can prepend a folder using the default folder.

In all cases, you will need to configure the **default folder**: The file will be sent here if it doesn't match the other conditions.

> [!note]
> If you use the option for frontmatter, this folder will be the default folder: the file will be sent here if the key doesn't exist.

> [!info] Override settings
> The settings bellow can be overrided by the frontmatter key `path`. See [[./Per files settings|per file settings for more informations]].

### Metadata frontmatter

Using the second option will activate two additional options:

- <u>Frontmatter key</u>: The key you want to use in your file.
- <u>Root folder</u>: This option allows you to prepend a path **before** the category key is found (if any key is found!).

### Fixed Folder

When using this option, every file will be sent to the default folder. If the default folder is left blank, the files will be sent to the root of the repository.

### Obsidian Path

This option uses the relative path in your Obsidian vault. The default folder will be prepended before the relative Obsidian path. If left blank, the files will be sent to the root of the repository.

> [!warning] In the 5.0.0 version, the `path removing` option was transfered into the Folder part modification.

## Filename

### Frontmatter title

You can change the filename using a configured frontmatter key.

### Regex on filename / folder path

You can set one or multiple regex to be applied to the filename or the folder path. Note that each replacement will be applied in their order of registration.
To use the regex, you need to enclose the text with `/`. For example : `/h.llo/` will be considered as a regex. But `h.llo` will be search strict the text `h.llo`.

> [!note] About folder Path
> The option is not available if you use the `fixed folder` option.
>
> > [!warning] Editing all path
> > If you use the `/` characters, you can edit a part or the whole path of a file.
> > For example, you can edit the folder `something` to `some/thing`. The file from `something` will go in `some/thing`.
> > Use it carefully!
>
> > [!info] Path removing
> > Normally, previous option will be converted.
> > If you need to create a part removing to « sync subfolder » you need to set the folder to remove in entry, and leave the replacement empty.

### Folder note

Some publishing solutions support folder notes, but these notes need to be named `index`. In case you use [Folder Note](https://github.com/aidenlx/alx-folder-note) with [the `same name` strategies](https://github.com/aidenlx/alx-folder-note/wiki/folder-note-pref) you will have a problem, right?
Fortunately, I have a solution for you!

Now, the plugin will convert these files into `index` (or another name) if you activate the settings.

> [!warning] This option doesn't work with fixed folder.

### Metadata Extractor

It is also possible to send files generated by [metadata extractor](https://github.com/kometenstaub/metadata-extractor) plugins. If you'd like to, just set the folder path where the files must be sent.

> [!warning] Warning:
>
> 1. This option does not appear if you do not have the plugin installed.
> 2. The function only works on the desktop version (as the plugin `metadata-extractor` is not available on mobile).
> 3. Only the files generated in `.obsidian/plugins` will be sent. The plugin doesn't support sending files from external folders.

### Auto Clean-Up

You can also set up an “auto-delete” feature when you use the commands to delete files:

- Deleted from your vault
- Which you have stopped sharing ("depublished")

This option will also add a new command to delete files (without sharing the new file) from the remote repository.

> [!warning] Warning[^1]
> You can't use the delete command if you haven't set a default folder (and a root folder if you use the YAML configuration).
> Also, you can lose some files using this command, so be careful!
> Please keep in mind that you can revert commits in case the plugin deletes a file you want to avoid deleting.

> [!warning] Changing the option
> In case you change the folder configuration, the previous files won't be deleted and it may result in errors in this workflow. Be cautious when making changes to the folder configuration, as it can affect the integrity of the files and the overall workflow.

You can set the path of the folder you want to avoid deleting the files. Separate multiple folders with a comma. This will ensure that the files in these specified folders are not deleted even if they are removed from the vault or depublished. It's important to double check the paths to ensure that the right folders are excluded from deletion.

> [!info] Regex
> You can use regex here, but you need to enclose the regex between `/`.
> For example, `/folder1/,/folder2/.*\/subfolder/` will exclude files in the folder1, folder2 and all subfolders under folder2. Be careful when using regex as it can result in unexpected behavior if not written correctly.

Finally, to prevent deleting `index` files created outside of Obsidian, you can use some parameters in your front matter:

- `delete: false`
- `index: true` or by removing the `share` key.

> [!warning] About Per-File Repository:
>
> It's important to keep in mind that when using the per-file repository option, the cleanup commands will only work for the repository set in the settings. However, the auto-cleanup feature will work on the per-file repository during the `Upload single current active note` process.
>
> For attachments, the situation can be a bit tricky as they don't have frontmatter metadata. In these cases, attachments will be deleted in the global repository or in the per-file repository if it's a one file sharing. Be sure to double-check the settings for these files to ensure they are not accidentally deleted.

[^1]: Only file supported by Obsidian will be deleted.
